

-- Table: public."Stations"

-- DROP TABLE public."Stations";

CREATE TABLE public."Stations"
(
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    "Name" text COLLATE pg_catalog."default" NOT NULL,
    "Description" text COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT "PK_Stations" PRIMARY KEY ("Id")
)

TABLESPACE pg_default;

ALTER TABLE public."Stations"
    OWNER to postgres;


--------------------------------------------------------

-- Table: public."Services"

-- DROP TABLE public."Services";

CREATE TABLE public."Services"
(
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    "Name" text COLLATE pg_catalog."default" NOT NULL,
    "Description" text COLLATE pg_catalog."default" NOT NULL,
    "Price" numeric NOT NULL,
    "StationId" integer NOT NULL,
    CONSTRAINT "PK_Services" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Services_Stations_StationId" FOREIGN KEY ("StationId")
        REFERENCES public."Stations" ("Id") MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
)

TABLESPACE pg_default;

ALTER TABLE public."Services"
    OWNER to postgres;
-- Index: IX_Services_StationId

-- DROP INDEX public."IX_Services_StationId";

CREATE INDEX "IX_Services_StationId"
    ON public."Services" USING btree
    ("StationId" ASC NULLS LAST)
    TABLESPACE pg_default;


--------------------------------------------------------

-- Table: public."ServedCars"

-- DROP TABLE public."ServedCars";

CREATE TABLE public."ServedCars"
(
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    "CarBrand" text COLLATE pg_catalog."default" NOT NULL,
    "CarYear" timestamp without time zone NOT NULL,
    "ServiceCompletDate" timestamp without time zone NOT NULL,
    "ServiceId" integer NOT NULL,
    CONSTRAINT "PK_ServedCars" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ServedCars_Services_ServiceId" FOREIGN KEY ("ServiceId")
        REFERENCES public."Services" ("Id") MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
)

TABLESPACE pg_default;

ALTER TABLE public."ServedCars"
    OWNER to postgres;
-- Index: IX_ServedCars_ServiceId

-- DROP INDEX public."IX_ServedCars_ServiceId";

CREATE INDEX "IX_ServedCars_ServiceId"
    ON public."ServedCars" USING btree
    ("ServiceId" ASC NULLS LAST)
    TABLESPACE pg_default;